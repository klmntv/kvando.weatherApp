import React, {useState} from 'react'
import s from './Weather.module.scss'
import axios from 'axios'

const TodayWeather = ( ) => {
    const [data,setData] = useState({})
    const [location,setLocation] = useState('')
    const url = `https://api.openweathermap.org/data/2.5/weather?q=${location}&appid=5dbc1dc5eb96460925f3794ad1764fe8`

    const searchLocation = (event) => {
        if (event.key === 'Enter') {
            axios.get(url).then((response) => {
                setData(response.data)
                console.log(response.data)
            })
            setLocation('')
        }
    }
    return (

        <div className={ s.weather }>
            <fieldset>
                <input
                    type="text"
                    value={ location }
                    onChange={ event => setLocation(event.target.value) }
                    onKeyPress={ searchLocation }
                    placeholder='Enter Location'
                />
                <button>Subscribe</button>
                <div>
                    <button className={ s.slider }></button>
                    <button className={ s.slider }></button>
                    <button className={ s.slider }></button>
                </div>
            </fieldset>

            <div className={ s.wrapper }>

                <div className={ s.loc }>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28">
                        <path fill="#fff" d="M14 2.25c5.3847763 0 9.75 4.36522369 9.75 9.75 0 4.1196455-2.894567 8.6092677-8.6098042 13.5178507-.6558026.563242-1.6246152.5632418-2.2830264-.0022514l-.3777513-.3274735C7.01712282 20.4088515 4.25 16.0278108 4.25 12c0-5.38477631 4.36522369-9.75 9.75-9.75Zm0 1.5c-4.55634919 0-8.25 3.69365081-8.25 8.25 0 3.5020564 2.54839906 7.5368033 7.714548 12.0569728l.3725429.3229584c.0936914.0804678.2321011.0804678.3257926 1e-7C19.5789268 19.7283136 22.25 15.5853418 22.25 12c0-4.55634919-3.6936508-8.25-8.25-8.25Zm0 4.5c2.0710678 0 3.75 1.67893219 3.75 3.75 0 2.0710678-1.6789322 3.75-3.75 3.75s-3.75-1.6789322-3.75-3.75c0-2.07106781 1.6789322-3.75 3.75-3.75Zm0 1.5c-1.2426407 0-2.25 1.0073593-2.25 2.25s1.0073593 2.25 2.25 2.25 2.25-1.0073593 2.25-2.25S15.2426407 9.75 14 9.75Z" />
                    </svg>
                    { data.main ? <p>{ data.name }</p> : ' ' }
                </div>
                <div className={ s.temp }>
                    <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 244 512">
                        <path fill="#ffffff" d="M147 59a39 39 0 0 0-39-39 39 39 0 0 0-38 39v271a83 83 0 1 0 77 1V59zm41 36V77h47a9 9 0 0 1 0 18h-47zm0 49v-18h47a9 9 0 0 1 0 18h-47zm0 49v-18h47a9 9 0 0 1 0 18h-47zm0 49v-18h47a9 9 0 0 1 0 18h-47zm0 49v-18h47a9 9 0 0 1 0 18h-47zm-21 23a107 107 0 1 1-117-1V59a58 58 0 0 1 100-42c11 11 17 26 17 42v255z" />
                        <path fill="#fff" d="M125 345V186H91v159a61 61 0 1 0 34 0z" />
                    </svg>
                    { data.main ? <p>{ Math.floor(data.main.temp - 273) }Â°C</p> : ' ' }
                </div>
                {/* <div className={s.time }>
                    <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 123 123">
                        <path fill="#fff" fillRule="evenodd" d="M61 0a61 61 0 1 1 0 123A61 61 0 0 1 61 0zm-7 38c0-10 15-10 15 0v25l16 9c8 5 1 17-7 12L58 74c-2-1-4-4-4-6V38z"/>
                    </svg>
                   <h1>16:50</h1> 
                </div> */}


            </div>
            
            <div className={ s.wrapper }>
                <div className={ s.wind }>
                    <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 122.88 74.78">
                        <path fill="#fff" d="M28.69 53.38c-1.61 0-2.91-1.3-2.91-2.91s1.3-2.91 2.91-2.91h51.37c.21 0 .42.02.62.07 1.84.28 3.56.8 5.1 1.63 1.7.92 3.15 2.19 4.27 3.89 3.85 5.83 3.28 11.24.56 15.24-1.77 2.61-4.47 4.55-7.45 5.57-3 1.03-6.32 1.13-9.32.03-4.54-1.66-8.22-5.89-8.76-13.55-.11-1.6 1.1-2.98 2.7-3.09 1.6-.11 2.98 1.1 3.09 2.7.35 4.94 2.41 7.56 4.94 8.48 1.71.62 3.67.54 5.48-.08 1.84-.63 3.48-1.79 4.52-3.32 1.49-2.19 1.71-5.28-.61-8.79-.57-.86-1.31-1.51-2.18-1.98-.91-.49-1.97-.81-3.13-.99h-51.2v.01zM15.41 27.21c-1.61 0-2.91-1.3-2.91-2.91s1.3-2.91 2.91-2.91h51.21c1.17-.18 2.23-.5 3.14-.99.87-.47 1.61-1.12 2.18-1.98 2.32-3.51 2.09-6.6.61-8.79-1.04-1.53-2.68-2.69-4.52-3.32-1.81-.62-3.78-.7-5.48-.08-2.52.92-4.59 3.54-4.94 8.48-.11 1.6-1.49 2.81-3.09 2.7-1.6-.11-2.81-1.49-2.7-3.09.54-7.66 4.22-11.89 8.76-13.55 3-1.09 6.32-.99 9.32.03 2.98 1.02 5.68 2.97 7.45 5.57 2.72 4 3.29 9.41-.56 15.24-1.12 1.7-2.57 2.97-4.27 3.89-1.54.83-3.26 1.35-5.1 1.63-.2.04-.41.07-.62.07H15.41v.01zM2.91 40.3C1.3 40.3 0 38.99 0 37.39c0-1.61 1.3-2.91 2.91-2.91h107.07c1.17-.18 2.23-.5 3.13-.99.87-.47 1.61-1.12 2.18-1.98 2.32-3.51 2.09-6.6.61-8.79-1.04-1.53-2.68-2.69-4.52-3.32-1.81-.62-3.78-.7-5.48-.08-2.52.92-4.59 3.54-4.94 8.48-.11 1.6-1.49 2.81-3.09 2.7-1.6-.11-2.81-1.49-2.7-3.09.54-7.66 4.22-11.89 8.76-13.55 3-1.09 6.32-.99 9.32.03 2.98 1.02 5.68 2.97 7.45 5.57 2.72 4 3.29 9.41-.56 15.24-1.12 1.7-2.57 2.97-4.27 3.89-1.54.83-3.26 1.35-5.1 1.63-.2.04-.41.07-.62.07H2.91v.01z" />
                    </svg>
                    { data.wind ? <p>{ data.wind.speed } m/s</p> : '' }
                </div>
                <div className={ s.press }>
                    <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 512 512">
                        <path fill="#fff" d="M256 0C114.51 0 0 114.497 0 256c0 141.491 114.497 256 256 256 141.49 0 256-114.497 256-256C512 114.509 397.503 0 256 0zm0 478.609c-122.746 0-222.609-99.862-222.609-222.609S133.254 33.391 256 33.391 478.609 133.254 478.609 256 378.746 478.609 256 478.609z" /> 
                        <path fill="#fff" d="M256 66.783C151.29 66.783 66.783 151.738 66.783 256c0 48.619 18.872 97.248 55.421 133.797 6.52 6.52 17.091 6.52 23.611 0l23.611-23.611c6.52-6.519 6.52-17.09 0-23.611-6.519-6.52-17.09-6.52-23.611 0l-11.177 11.177c-19.241-23.851-30.408-52.1-33.501-81.056h15.734c9.22 0 16.696-7.475 16.696-16.696 0-9.22-7.475-16.696-16.696-16.696h-15.725c3.094-28.955 14.261-57.198 33.5-81.05l11.17 11.169c6.52 6.52 17.091 6.52 23.611 0 6.519-6.519 6.519-17.091 0-23.611l-11.175-11.175c23.276-18.804 51.227-30.356 81.054-33.5v15.732c0 9.22 7.475 16.696 16.696 16.696 9.22 0 16.696-7.475 16.696-16.696v-15.731c29.827 3.144 57.777 14.698 81.054 33.5L281.72 206.67c-7.699-4.03-16.444-6.323-25.719-6.323-30.687 0-55.652 24.966-55.652 55.652 0 30.687 24.966 55.652 55.652 55.652 30.687 0 55.652-24.966 55.652-55.652 0-9.275-2.293-18.02-6.323-25.718l72.026-72.026c19.239 23.85 30.406 52.094 33.5 81.05H395.13c-9.22 0-16.696 7.475-16.696 16.696 0 9.22 7.475 16.696 16.696 16.696h15.734c-3.093 28.956-14.26 57.206-33.501 81.056l-11.177-11.177c-6.519-6.519-17.091-6.519-23.611 0-6.52 6.52-6.52 17.091 0 23.611l23.611 23.611c6.52 6.52 17.091 6.52 23.611 0 36.482-36.483 55.421-85.084 55.421-133.798C445.217 151.681 360.676 66.783 256 66.783zm0 211.478c-12.275 0-22.261-9.986-22.261-22.261 0-12.275 9.986-22.261 22.261-22.261 12.275 0 22.261 9.986 22.261 22.261 0 12.275-9.986 22.261-22.261 22.261z" />
                       
                    </svg>
                    { data.main ? <p>{ data.main.pressure } hPa</p> : ' ' }
                </div>
                <div className={ s.hum }>
                    <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 103.36 122.88">
                        <path fill="#fff"  d="M64.66 7.48c7.83 33.51 38.7 57.89 38.7 77.66 0 47.88-70 50.2-76.82 6.94a31.53 31.53 0 0 1-15-4.93 24.91 24.91 0 0 1-8.26-9.08A28.3 28.3 0 0 1 .05 66.14c-.44-8.2 2.19-17.44 8-26.24l3.29-4.85c6.51-9.53 13.93-20.38 16.8-32.82a2.87 2.87 0 0 1 5.6 0C36.67 14.6 44.08 25.45 50.59 35l1.33 2c5.43-9 10.26-18.72 12.74-29.46ZM26 86.26v-1.12C26 72.88 37.75 59 48.59 42.27l-2.75-4.05c-5.23-7.67-11-16.16-14.85-25.8-3.81 9.7-9.62 18.19-14.86 25.87l-3.25 4.79c-5.15 7.74-7.47 15.75-7.1 22.77a22.57 22.57 0 0 0 2.55 9.52 19.25 19.25 0 0 0 6.37 7A25.53 25.53 0 0 0 26 86.26Zm15.08-6.77a3.92 3.92 0 0 1 7.81-.71 37.8 37.8 0 0 0 3.81 14.16A25 25 0 0 0 62.5 103a3.92 3.92 0 1 1-4 6.76A32.68 32.68 0 0 1 45.78 96.6a45.8 45.8 0 0 1-4.67-17.11Z" />
                    </svg>
                    { data.main ? <p>{ data.main.humidity } %</p> : ' ' }
                </div>
            </div>

        </div>

    )
}
export default TodayWeather